{"mappings":"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","sources":["packages/field-components/src/index.ts","packages/field-components/src/AvatarWithLabelField.js","packages/field-components/src/ReferenceArrayField.js","packages/field-components/src/ReferenceField.js","packages/field-components/src/QuickAppendReferenceArrayField/QuickAppendReferenceArrayField.js","packages/field-components/src/QuickAppendReferenceArrayField/QuickAppendDialog.js","packages/field-components/src/QuickAppendReferenceArrayField/ResultsList.js","packages/field-components/src/MultiUrlField.js","packages/field-components/src/SeparatedListField.js"],"sourcesContent":["export { default as AvatarWithLabelField } from './AvatarWithLabelField';\nexport { default as ReferenceArrayField } from './ReferenceArrayField';\nexport { default as ReferenceField } from './ReferenceField';\nexport { default as QuickAppendReferenceArrayField } from './QuickAppendReferenceArrayField/QuickAppendReferenceArrayField';\nexport { default as MultiUrlField } from './MultiUrlField';\nexport { default as SeparatedListField } from './SeparatedListField';\n","import React from 'react';\nimport { useRecordContext } from 'react-admin';\nimport { Box, Avatar, Chip } from '@mui/material';\nimport makeStyles from '@mui/styles/makeStyles';\nimport LaunchIcon from '@mui/icons-material/Launch';\n\nconst useStyles = makeStyles(theme => ({\n  parent: props => ({\n    position: 'relative',\n    ...props.parent\n  }),\n  square: {\n    width: '100%',\n    paddingBottom: '100%',\n    position: 'relative'\n  },\n  avatar: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    width: '100%',\n    height: '100%',\n    borderRadius: '50%',\n    // backgroundColor: theme.palette.primary.main,\n    '& svg': {\n      width: '55%',\n      height: '55%'\n    }\n  },\n  chip: {\n    position: 'absolute',\n    bottom: -10,\n    left: 0,\n    right: 0,\n    paddingTop: 3,\n    paddingBottom: 3,\n    paddingLeft: 6,\n    paddingRight: 6,\n    marginBottom: 10,\n    cursor: 'pointer'\n  },\n  launchIcon: {\n    width: 14\n  }\n}));\n\nconst handleClick = () => {};\n\nconst AvatarWithLabelField = ({\n  label,\n  defaultLabel,\n  image,\n  fallback,\n  externalLink = false,\n  labelColor = 'secondary',\n  classes,\n  ...rest\n}) => {\n  classes = useStyles(classes);\n  const record = useRecordContext();\n\n  const computedLabel = (typeof label === 'function' ? label(record) : record[label]) || defaultLabel;\n  const computedImage = typeof image === 'function' ? image(record) : record[image];\n  const computedFallback = typeof fallback === 'function' ? fallback(record) : fallback;\n\n  return (\n    <Box className={classes.parent}>\n      <div className={classes.square}>\n        <Avatar\n          src={computedImage || computedFallback}\n          alt={computedLabel}\n          fallback={computedFallback}\n          {...rest}\n          className={classes.avatar}\n        />\n      </div>\n      {!computedLabel ? null : externalLink ? (\n        <Chip\n          color={labelColor}\n          className={classes.chip}\n          size=\"small\"\n          label={computedLabel}\n          deleteIcon={<LaunchIcon className={classes.launchIcon} />}\n          onDelete={handleClick}\n        />\n      ) : (\n        <Chip color={labelColor} className={classes.chip} size=\"small\" label={computedLabel} />\n      )}\n    </Box>\n  );\n};\n\nexport default AvatarWithLabelField;\n","import React from 'react';\nimport { ReferenceArrayField as RaReferenceArrayField, useRecordContext, RecordContextProvider } from 'react-admin';\n\nconst ReferenceArrayField = ({ source, ...otherProps }) => {\n  const record = useRecordContext();\n  if (record?.[source]) {\n    if (!Array.isArray(record[source])) {\n      record[source] = [record[source]];\n    }\n    record[source] = record[source].map(i => i['@id'] || i.id || i);\n  }\n  return (\n    <RecordContextProvider value={record}>\n      <RaReferenceArrayField source={source} {...otherProps} />\n    </RecordContextProvider>\n  );\n};\n\nexport default ReferenceArrayField;\n","import React from 'react';\nimport { ReferenceField as RaReferenceField, useRecordContext, RecordContextProvider } from 'react-admin';\n\nconst ReferenceField = ({ source, ...otherProps }) => {\n  const record = useRecordContext();\n  if (record[source]) {\n    if (typeof record[source] === 'object') {\n      record[source] = record[source]['@id'] || record[source].id;\n    }\n  }\n  return (\n    <RecordContextProvider value={record}>\n      <RaReferenceField record={record} source={source} {...otherProps} />\n    </RecordContextProvider>\n  );\n};\n\nexport default ReferenceField;\n","import React, { useState, useMemo } from 'react';\nimport { useRecordContext, usePermissions } from 'react-admin';\nimport { ReferenceArrayField } from '../index';\nimport QuickAppendDialog from './QuickAppendDialog';\n\nconst QuickAppendReferenceArrayField = ({ reference, source, resource, children, ...otherProps }) => {\n  const record = useRecordContext();\n  const [showDialog, setShowDialog] = useState(false);\n  const { permissions } = usePermissions({ uri: record.id });\n\n  const canAppend = useMemo(\n    () => !!permissions && permissions.some(p => ['acl:Append', 'acl:Write', 'acl:Control'].includes(p['acl:mode'])),\n    [permissions]\n  );\n\n  return (\n    <>\n      <ReferenceArrayField reference={reference} source={source} {...otherProps}>\n        {React.Children.only(children) &&\n          React.cloneElement(children, { appendLink: canAppend ? () => setShowDialog(true) : undefined })}\n      </ReferenceArrayField>\n      {canAppend && showDialog && (\n        <QuickAppendDialog\n          open={showDialog}\n          onClose={() => setShowDialog(false)}\n          subjectUri={record.id}\n          resource={resource}\n          source={source}\n          reference={reference}\n        />\n      )}\n    </>\n  );\n};\n\nexport default QuickAppendReferenceArrayField;\n","import React, { useState, useCallback } from 'react';\nimport {\n  Button,\n  useDataProvider,\n  useTranslate,\n  useRefresh,\n  useNotify,\n  useGetResourceLabel,\n  useShowContext\n} from 'react-admin';\nimport { Dialog, DialogTitle, TextField, DialogContent, DialogActions } from '@mui/material';\nimport makeStyles from '@mui/styles/makeStyles';\nimport { useForm } from 'react-hook-form';\nimport AddIcon from '@mui/icons-material/Add';\nimport { useDataModel } from '@semapps/semantic-data-provider';\nimport ResultsList from './ResultsList';\n\nconst useStyles = makeStyles(() => ({\n  title: {\n    paddingBottom: 8\n  },\n  actions: {\n    padding: 15\n  },\n  addForm: {\n    paddingTop: 0\n  },\n  listForm: {\n    paddingLeft: 8,\n    paddingRight: 8,\n    paddingTop: 0,\n    paddingBottom: 0,\n    maxHeight: 210\n  }\n}));\n\nconst QuickAppendDialog = ({ open, onClose, subjectUri, source, reference }) => {\n  const classes = useStyles();\n  const { resource } = useShowContext();\n  const [keyword, setKeyword] = useState('');\n  const [panel, setPanel] = useState('find');\n  const dataProvider = useDataProvider();\n  const translate = useTranslate();\n  const refresh = useRefresh();\n  const notify = useNotify();\n  const getResourceLabel = useGetResourceLabel();\n  const dataModel = useDataModel(reference);\n  const { register, setValue, handleSubmit } = useForm();\n\n  const appendLink = useCallback(\n    async objectUri => {\n      // Get the freshest data so that the put operation doesn't overwrite anything\n      const { data } = await dataProvider.getOne(resource, { id: subjectUri });\n\n      await dataProvider.update(resource, {\n        id: subjectUri,\n        data: {\n          ...data,\n          [source]: data[source]\n            ? Array.isArray(data[source])\n              ? [...data[source], objectUri]\n              : [data[source], objectUri]\n            : objectUri\n        },\n        previousData: data\n      });\n\n      refresh();\n\n      onClose();\n    },\n    [dataProvider, subjectUri, resource, source, refresh, onClose]\n  );\n\n  const create = useCallback(\n    async values => {\n      const { data } = await dataProvider.create(reference, {\n        data: {\n          [dataModel.fieldsMapping.title]: values.title\n        }\n      });\n\n      await appendLink(data.id);\n\n      notify(`La resource \"${values.title}\" a été créée`, { type: 'success' });\n    },\n    [dataProvider, dataModel, appendLink, reference, notify]\n  );\n\n  return (\n    <Dialog fullWidth open={open} onClose={onClose}>\n      {panel === 'find' ? (\n        <>\n          <DialogTitle className={classes.title}>Ajouter une relation</DialogTitle>\n          <DialogContent className={classes.addForm}>\n            <TextField\n              autoFocus\n              label={`Rechercher ou créer des ${getResourceLabel(reference, 2).toLowerCase()}`}\n              variant=\"filled\"\n              margin=\"dense\"\n              value={keyword}\n              onChange={e => setKeyword(e.target.value)}\n              fullWidth\n            />\n          </DialogContent>\n          <DialogContent className={classes.listForm}>\n            <ResultsList\n              keyword={keyword}\n              source={source}\n              reference={reference}\n              appendLink={appendLink}\n              switchToCreate={() => {\n                setValue('title', keyword);\n                setPanel('create');\n              }}\n            />\n          </DialogContent>\n          <DialogActions className={classes.actions}>\n            <Button label=\"ra.action.close\" variant=\"text\" onClick={onClose} />\n          </DialogActions>\n        </>\n      ) : (\n        <form onSubmit={handleSubmit(create)}>\n          <DialogTitle className={classes.title}>\n            {translate('ra.page.create', { name: getResourceLabel(reference, 1) })}\n          </DialogTitle>\n          <DialogContent className={classes.addForm}>\n            <TextField {...register('title')} autoFocus label=\"Titre\" variant=\"filled\" margin=\"dense\" fullWidth />\n          </DialogContent>\n          <DialogActions className={classes.actions}>\n            <Button label=\"ra.action.create\" variant=\"contained\" startIcon={<AddIcon />} type=\"submit\" />\n            <Button label=\"ra.action.close\" variant=\"text\" onClick={onClose} />\n          </DialogActions>\n        </form>\n      )}\n    </Dialog>\n  );\n};\n\nexport default QuickAppendDialog;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport {\n  useDataProvider,\n  useRecordContext,\n  useCreatePath,\n  useGetResourceLabel,\n  useResourceDefinition,\n  useTranslate\n} from 'react-admin';\nimport debounce from 'lodash.debounce';\nimport {\n  Box,\n  IconButton,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  ListItemSecondaryAction,\n  Avatar,\n  CircularProgress\n} from '@mui/material';\nimport makeStyles from '@mui/styles/makeStyles';\nimport AddIcon from '@mui/icons-material/Add';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport ErrorIcon from '@mui/icons-material/Error';\nimport { useDataServers, useDataModel } from '@semapps/semantic-data-provider';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    maxWidth: '100%',\n    backgroundColor: theme.palette.background.paper,\n    paddingTop: 0,\n    paddingBottom: 0\n  },\n  primaryText: {\n    width: '30%'\n  },\n  secondaryText: {\n    fontStyle: 'italic',\n    color: 'grey'\n  }\n}));\n\nconst getServerName = (resourceUri, dataServers) => {\n  const server = dataServers && Object.values(dataServers).find(server => resourceUri.startsWith(server.baseUrl));\n  return server ? server.name : 'Inconnu';\n};\n\nconst ResultsList = ({ keyword, source, reference, appendLink, switchToCreate }) => {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  const [results, setResults] = useState([]);\n  const translate = useTranslate();\n  const dataProvider = useDataProvider();\n  const dataServers = useDataServers();\n  const record = useRecordContext();\n  const createPath = useCreatePath();\n\n  const referenceDefinition = useResourceDefinition({ resource: reference });\n  const getResourceLabel = useGetResourceLabel();\n  const dataModel = useDataModel(reference);\n\n  if (dataModel && Object.keys(dataModel).length > 0 && !dataModel?.fieldsMapping?.title) {\n    throw new Error(`No fieldsMapping.title config found for ${reference} dataModel`);\n  }\n\n  const search = useMemo(\n    () =>\n      debounce(keyword => {\n        dataProvider\n          .getList(reference, {\n            pagination: { page: 1, perPage: 100 },\n            sort: { field: dataModel?.fieldsMapping?.title, order: 'ASC' },\n            filter: { q: keyword, _predicates: [dataModel.fieldsMapping.title], _servers: '@all' }\n          })\n          .then(({ data }) => {\n            const existingLinks = record[source]\n              ? Array.isArray(record[source])\n                ? record[source]\n                : [record[source]]\n              : [];\n            const newLinks = data.filter(record => !existingLinks.includes(record.id));\n            setResults(newLinks);\n            setLoaded(true);\n            setLoading(false);\n          })\n          .catch(e => {\n            setLoading(false);\n          });\n      }, 700),\n    [dataProvider, dataModel, record, source, reference, setResults, setLoading, setLoaded]\n  );\n\n  useEffect(() => {\n    if (!keyword) {\n      return undefined;\n    }\n    setLoading(true);\n    setLoaded(false);\n    search(keyword);\n\n    return () => search.cancel();\n  }, [keyword, search, setLoading]);\n\n  if (!keyword) return null;\n\n  return (\n    <List dense className={classes.root}>\n      {loaded &&\n        results.map(resource => (\n          <ListItem key={resource.id} button onClick={() => appendLink(resource.id)}>\n            <ListItemAvatar>\n              <Avatar>{React.createElement(referenceDefinition.icon)}</Avatar>\n            </ListItemAvatar>\n            <ListItemText className={classes.primaryText} primary={resource[dataModel.fieldsMapping.title]} />\n            <ListItemText className={classes.secondaryText} primary={getServerName(resource.id, dataServers)} />\n            <ListItemSecondaryAction>\n              <a\n                href={createPath({ resource: reference, id: resource.id, type: 'show' })}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <IconButton edge=\"end\" size=\"large\">\n                  <VisibilityIcon />\n                </IconButton>\n              </a>\n            </ListItemSecondaryAction>\n          </ListItem>\n        ))}\n      {loaded && results.length === 0 && (\n        <ListItem>\n          <ListItemAvatar>\n            <Avatar>\n              <ErrorIcon />\n            </Avatar>\n          </ListItemAvatar>\n          <ListItemText className={classes.primaryText} primary={translate('ra.navigation.no_results')} />\n        </ListItem>\n      )}\n      {loaded && referenceDefinition.hasCreate && (\n        <ListItem button onClick={switchToCreate}>\n          <ListItemAvatar>\n            <Avatar>\n              <AddIcon />\n            </Avatar>\n          </ListItemAvatar>\n          <ListItemText\n            className={classes.primaryText}\n            primary={translate('ra.page.create', { name: getResourceLabel(reference, 1) })}\n          />\n        </ListItem>\n      )}\n      {loading && (\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" height={150}>\n          <CircularProgress size={60} thickness={6} />\n        </Box>\n      )}\n    </List>\n  );\n};\n\nexport default ResultsList;\n","import React from 'react';\nimport { useRecordContext } from 'react-admin';\nimport { Chip, Avatar } from '@mui/material';\nimport makeStyles from '@mui/styles/makeStyles';\nimport LanguageIcon from '@mui/icons-material/Language';\nimport FacebookIcon from '@mui/icons-material/Facebook';\nimport GitHubIcon from '@mui/icons-material/GitHub';\nimport TwitterIcon from '@mui/icons-material/Twitter';\nimport InstagramIcon from '@mui/icons-material/Instagram';\nimport YouTubeIcon from '@mui/icons-material/YouTube';\nimport { FiGitlab } from 'react-icons/fi';\n\nconst defaultdomainMapping = {\n  'github.com': {\n    label: 'GitHub',\n    icon: <GitHubIcon />,\n    color: 'black',\n    contrastText: 'white'\n  },\n  'gitlab.com': {\n    label: 'GitLab',\n    icon: <FiGitlab />,\n    color: 'orange',\n    contrastText: 'black'\n  },\n  'opencollective.com': {\n    label: 'Open Collective',\n    icon: <Avatar component=\"span\" src=\"https://opencollective.com/static/images/opencollective-icon.svg\" />,\n    color: 'white',\n    contrastText: '#297EFF'\n  },\n  'facebook.com': {\n    label: 'Facebook',\n    icon: <FacebookIcon />,\n    color: '#4267B2',\n    contrastText: 'white'\n  },\n  'twitter.com': {\n    label: 'Twitter',\n    icon: <TwitterIcon />,\n    color: '#00ACEE',\n    contrastText: 'white'\n  },\n  'instagram.com': {\n    label: 'Instagram',\n    icon: <InstagramIcon />,\n    color: '#8a3ab9',\n    contrastText: 'white'\n  },\n  'youtube.com': {\n    label: 'YouTube',\n    icon: <YouTubeIcon />,\n    color: '#FF0000',\n    contrastText: 'white'\n  }\n};\n\nconst useStyles = makeStyles(() => ({\n  link: {\n    textDecoration: 'unset',\n    '& :hover': {\n      cursor: 'pointer'\n    }\n  },\n  chip: {\n    paddingLeft: 5,\n    paddingRight: 5,\n    marginRight: 5,\n    marginBottom: 5\n  },\n  label: {\n    marginTop: -1\n  }\n}));\n\nconst MultiUrlField = ({ source, domainMapping }) => {\n  const newDomainMapping = { ...defaultdomainMapping, ...domainMapping };\n  const record = useRecordContext();\n  const classes = useStyles();\n  const urlArray = record[source] ? (Array.isArray(record[source]) ? record[source] : [record[source]]) : [];\n  return urlArray.map((url, index) => {\n    if (!url.startsWith('http')) url = `https://${url}`;\n\n    let parsedUrl = null;\n    try {\n      parsedUrl = new URL(url);\n    } catch (e) {\n      return null;\n    }\n\n    const chip = newDomainMapping[parsedUrl.hostname] || {\n      label: 'Site web',\n      icon: <LanguageIcon />,\n      color: '#ea',\n      contrastText: 'black'\n    };\n    return (\n      <a href={url} target=\"_blank\" rel=\"noopener noreferrer\" className={classes.link} key={index}>\n        <Chip\n          component=\"span\"\n          icon={React.cloneElement(chip.icon, { style: { color: chip.contrastText, width: 18, height: 18 } })}\n          size=\"small\"\n          label={chip.label}\n          classes={{ root: classes.chip, label: classes.label }}\n          style={{ color: chip.contrastText, backgroundColor: chip.color }}\n        />\n      </a>\n    );\n  });\n};\n\nexport default MultiUrlField;\n","import * as React from 'react';\nimport { cloneElement, Children } from 'react';\nimport { useCreatePath, useListContext, Link, RecordContextProvider } from 'react-admin';\nimport { LinearProgress } from '@mui/material';\n\n// useful to prevent click bubbling in a datagrid with rowClick\nconst stopPropagation = e => e.stopPropagation();\n\n// Our handleClick does nothing as we wrap the children inside a Link but it is\n// required by ChipField, which uses a Chip from material-ui.\n// The material-ui Chip requires an onClick handler to behave like a clickable element.\nconst handleClick = () => {};\n\nconst SeparatedListField = props => {\n  let { children, link = 'edit', linkType, separator = ',\\u00A0' } = props;\n  const { data, isLoading, resource } = useListContext(props);\n  const createPath = useCreatePath();\n\n  if (linkType !== undefined) {\n    console.warn(\"The 'linkType' prop is deprecated and should be named to 'link' in <SeparatedListField />\");\n    link = linkType;\n  }\n\n  if (isLoading) return <LinearProgress />;\n\n  return (\n    <>\n      {data.map((record, i) => {\n        if (!record.id) return null;\n        const resourceLinkPath =\n          link !== false &&\n          (typeof link === 'function' ? link(record.id) : createPath({ resource, id: record.id, type: link }));\n        if (resourceLinkPath) {\n          return (\n            <span key={record.id}>\n              <Link to={resourceLinkPath} onClick={stopPropagation}>\n                {cloneElement(Children.only(children), {\n                  // Workaround to force ChipField to be clickable\n                  onClick: handleClick\n                })}\n              </Link>\n              {i < data.length - 1 && separator}\n            </span>\n          );\n        }\n\n        return (\n          <span key={record.id}>\n            <RecordContextProvider value={record}>{children}</RecordContextProvider>\n            {i < data.length - 1 && separator}\n          </span>\n        );\n      })}\n    </>\n  );\n};\n\nexport default SeparatedListField;\n"],"names":[],"version":3,"file":"index.es.js.map"}