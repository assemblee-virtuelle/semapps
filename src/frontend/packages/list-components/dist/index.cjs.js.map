{"mappings":"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","sources":["packages/list-components/src/index.js","packages/list-components/src/ChipList.js","packages/list-components/src/GridList.js","packages/list-components/src/MasonryList.js","packages/list-components/src/ReferenceFilter.js","packages/list-components/src/MultiViewsList/MultiViewsList.js","packages/list-components/src/MultiViewsList/ListActionsWithViews.js","packages/list-components/src/MultiViewsList/ViewsButtons.js","packages/list-components/src/MultiViewsList/ListViewContext.js"],"sourcesContent":["export { default as ChipList } from './ChipList';\nexport { default as GridList } from './GridList';\nexport { default as MasonryList } from './MasonryList';\nexport { default as ReferenceFilter } from './ReferenceFilter';\n\nexport { default as MultiViewsList } from './MultiViewsList/MultiViewsList';\nexport { default as ListActionsWithViews } from './MultiViewsList/ListActionsWithViews';\nexport { default as ListViewContext } from './MultiViewsList/ListViewContext';\nexport { default as ViewsButtons } from './MultiViewsList/ViewsButtons';\n","import React from 'react';\nimport {\n  ChipField,\n  useCreatePath,\n  useListContext,\n  sanitizeListRestProps,\n  RecordContextProvider,\n  Link\n} from 'react-admin';\nimport { LinearProgress } from '@mui/material';\nimport makeStyles from '@mui/styles/makeStyles';\nimport AddCircleIcon from '@mui/icons-material/AddCircle';\nimport LaunchIcon from '@mui/icons-material/Launch';\nimport { useGetExternalLink } from '@semapps/semantic-data-provider';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  link: {\n    textDecoration: 'none',\n    maxWidth: '100%'\n  },\n  chipField: {\n    maxWidth: '100%'\n  },\n  addIcon: {\n    cursor: 'pointer',\n    fontSize: 35,\n    position: 'relative',\n    top: 2\n  },\n  launchIcon: {\n    width: 20,\n    paddingRight: 6,\n    marginLeft: -10\n  }\n}));\n\nconst stopPropagation = e => e.stopPropagation();\n\n// Our handleClick does nothing as we wrap the children inside a Link but it is\n// required by ChipField, which uses a Chip from material-ui.\n// The material-ui Chip requires an onClick handler to behave like a clickable element.\nconst handleClick = () => {};\n\nconst ChipList = props => {\n  const {\n    classes: classesOverride,\n    className,\n    children,\n    linkType = 'edit',\n    component = 'div',\n    primaryText,\n    appendLink,\n    externalLinks = false,\n    ...rest\n  } = props;\n  const { data, isLoading, resource } = useListContext(props);\n  const getExternalLink = useGetExternalLink(externalLinks);\n  const createPath = useCreatePath();\n\n  const classes = useStyles(props);\n  const Component = component;\n\n  if (isLoading) return <LinearProgress />;\n\n  return (\n    <Component className={classes.root} {...sanitizeListRestProps(rest)}>\n      {data.map(record => {\n        if (!record || record._error) return null;\n        const externalLink = getExternalLink(record);\n        if (externalLink) {\n          return (\n            <RecordContextProvider value={record} key={record.id}>\n              <a\n                href={externalLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className={classes.link}\n                onClick={stopPropagation}\n              >\n                <ChipField\n                  source={primaryText}\n                  className={classes.chipField}\n                  color=\"secondary\"\n                  deleteIcon={<LaunchIcon className={classes.launchIcon} />}\n                  // Workaround to force ChipField to be clickable\n                  onClick={handleClick}\n                  // Required to display the delete icon\n                  onDelete={handleClick}\n                />\n              </a>\n            </RecordContextProvider>\n          );\n        }\n        if (linkType) {\n          return (\n            <RecordContextProvider value={record} key={record.id}>\n              <Link\n                className={classes.link}\n                to={createPath({ resource, id: record.id, type: linkType })}\n                onClick={stopPropagation}\n              >\n                <ChipField\n                  source={primaryText}\n                  className={classes.chipField}\n                  color=\"secondary\"\n                  // Workaround to force ChipField to be clickable\n                  onClick={handleClick}\n                />\n              </Link>\n            </RecordContextProvider>\n          );\n        }\n        return (\n          <RecordContextProvider value={record} key={record.id}>\n            <ChipField\n              source={primaryText}\n              className={classes.chipField}\n              color=\"secondary\"\n              // Workaround to force ChipField to be clickable\n              onClick={handleClick}\n            />\n          </RecordContextProvider>\n        );\n      })}\n      {appendLink && <AddCircleIcon color=\"primary\" className={classes.addIcon} onClick={appendLink} />}\n    </Component>\n  );\n};\n\nexport default ChipList;\n","import * as React from 'react';\nimport { useListContext, useCreatePath, Link, RecordContextProvider } from 'react-admin';\nimport { Grid } from '@mui/material';\nimport { useGetExternalLink } from '@semapps/semantic-data-provider';\n\n// useful to prevent click bubbling in a datagrid with rowClick\nconst stopPropagation = e => e.stopPropagation();\n\n// Our handleClick does nothing as we wrap the children inside a Link but it is\n// required by ChipField, which uses a Chip from material-ui.\n// The material-ui Chip requires an onClick handler to behave like a clickable element.\nconst handleClick = () => {};\n\nconst GridList = ({ children, linkType, externalLinks, spacing, xs, sm, md, lg, xl }) => {\n  const { data, resource, isLoading } = useListContext();\n  const getExternalLink = useGetExternalLink(externalLinks);\n  const createPath = useCreatePath();\n  if (isLoading || !data) return null;\n  return (\n    <Grid container spacing={spacing}>\n      {data.map(record => {\n        if (!record || record._error) return null;\n        const externalLink = getExternalLink(record);\n        let child;\n\n        if (externalLink) {\n          child = (\n            <a href={externalLink} target=\"_blank\" rel=\"noopener noreferrer\" onClick={stopPropagation}>\n              {React.cloneElement(React.Children.only(children), {\n                externalLink: true,\n                // Workaround to force ChipField to be clickable\n                onClick: handleClick\n              })}\n            </a>\n          );\n        } else if (linkType) {\n          child = (\n            <Link to={createPath({ resource, id: record.id, type: linkType })} onClick={stopPropagation}>\n              {React.cloneElement(React.Children.only(children), {\n                // Workaround to force ChipField to be clickable\n                onClick: handleClick\n              })}\n            </Link>\n          );\n        } else {\n          child = children;\n        }\n\n        return (\n          <Grid item key={record.id} xs={xs} sm={sm} md={md} lg={lg} xl={xl}>\n            <RecordContextProvider value={record}>{child}</RecordContextProvider>\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n};\n\nGridList.defaultProps = {\n  xs: 6,\n  spacing: 3,\n  linkType: 'edit',\n  externalLinks: false\n};\n\nexport default GridList;\n","import React from 'react';\nimport { useListContext, Link, useCreatePath, RecordContextProvider } from 'react-admin';\nimport { Card, CardActionArea, CardMedia, CardContent, CardActions } from '@mui/material';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Masonry from 'react-masonry-css';\n\nconst useStyles = makeStyles(() => ({\n  grid: {\n    display: 'flex',\n    marginLeft: -20,\n    marginBottom: -20,\n    width: 'auto'\n  },\n  column: {\n    paddingLeft: 20,\n    backgroundClip: 'padding-box'\n  },\n  card: {\n    marginBottom: 20\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%' // 16:9\n  }\n}));\n\n/**\n * @example\n * <List component=\"div\" perPage={50} {...props}>\n *   <MasonryList\n *     image={record => record.image}\n *     content={record => (\n *       <>\n *         <Typography variant=\"subtitle1\">{record.title}</Typography>\n *         <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">{record.description}</Typography>\n *       </>\n *     )}\n *     linkType=\"show\"\n *   />\n * </List>\n */\nconst MasonryList = ({ image, content, actions, breakpointCols, linkType }) => {\n  const classes = useStyles();\n  const { data, resource } = useListContext();\n  const createPath = useCreatePath();\n  return (\n    <Masonry breakpointCols={breakpointCols} className={classes.grid} columnClassName={classes.column}>\n      {data.map(record => {\n        if (!record || record._error) return null;\n        const imageUrl = typeof image === 'function' ? image(record) : image;\n        return (\n          <RecordContextProvider value={record}>\n            <Card key={record.id} className={classes.card}>\n              <Link to={createPath({ resource, id: record.id, type: linkType })}>\n                <CardActionArea>\n                  {imageUrl && <CardMedia className={classes.media} image={imageUrl} />}\n                  {content && <CardContent>{content(record)}</CardContent>}\n                </CardActionArea>\n              </Link>\n              {actions && <CardActions>{actions.map(action => React.createElement(action))}</CardActions>}\n            </Card>\n          </RecordContextProvider>\n        );\n      })}\n    </Masonry>\n  );\n};\n\nMasonryList.defaultProps = {\n  breakpointCols: { default: 3, 1050: 2, 700: 1 },\n  linkType: 'edit'\n};\n\nexport default MasonryList;\n","import React, { useEffect } from 'react';\nimport {\n  FilterList,\n  FilterListItem,\n  useGetList,\n  useResourceContext,\n  useListContext,\n  useResourceDefinition\n} from 'react-admin';\nimport { useContainers, useDataModel } from '@semapps/semantic-data-provider';\n\n/**\n * @example\n * const FilterAside = () => (\n *   <Card>\n *     <CardContent>\n *       <FilterLiveSearch source=\"pair:label\" />\n *       <ReferenceFilter reference=\"Theme\" source=\"pair:hasTopic\" inverseSource=\"pair:topicOf\" />\n *       <ReferenceFilter reference=\"Skill\" source=\"pair:offers\" inverseSource=\"pair:offeredBy\" />\n *     </CardContent>\n *   </Card>\n * );\n */\n\nconst ReferenceFilterCounter = ({ source, id }) => {\n  const resourceContext = useResourceContext();\n  const { data, isLoading } = useGetList(resourceContext);\n  return (\n    <>\n      &nbsp;\n      {!isLoading && (\n        <span className=\"filter-count\">{`(${\n          Object.values(data).filter(d => [].concat(d[source]).includes(id)).length\n        })`}</span>\n      )}\n    </>\n  );\n};\n\nconst ReferenceFilter = ({ reference, source, inverseSource, limit, sort, filter, label, icon, showCounters }) => {\n  const { data, isLoading } = useGetList(reference, { page: 1, perPage: limit }, sort, filter);\n  const currentResource = useResourceDefinition({ resource: reference });\n  const resourceContext = useResourceContext();\n  const resourceContextDataModel = useDataModel(resourceContext);\n  const resourceContextContainers = useContainers(resourceContext);\n\n  const { displayedFilters, filterValues, setFilters, hideFilter } = useListContext();\n  useEffect(() => {\n    // Needed when filter item is active and its last relation is removed\n    const urlSearchParams = new URLSearchParams(window.location.search);\n    const params = Object.fromEntries(urlSearchParams.entries());\n    if (!params.filter && !isLoading) {\n      setFilters({});\n    }\n  }, []);\n\n  const itemIsUsed = itemData => {\n    if (!inverseSource) {\n      return true;\n    }\n    if (!resourceContextContainers || !itemData) {\n      return false;\n    }\n    let itemIsUsed = false;\n    Object.values(resourceContextContainers).forEach(value => {\n      value.forEach(containerUrl => {\n        [].concat(itemData[inverseSource]).forEach(inverseSourceData => {\n          if (inverseSourceData?.startsWith(containerUrl)) {\n            itemIsUsed = true;\n          }\n        });\n      });\n    });\n    return itemIsUsed;\n  };\n\n  return (\n    <FilterList\n      label={label || currentResource?.options?.label || ''}\n      icon={icon || currentResource?.icon ? React.createElement(currentResource.icon) : undefined}\n    >\n      {data &&\n        data\n          .filter(itemData => itemIsUsed(itemData))\n          .map(itemData => (\n            <FilterListItem\n              key={itemData.id}\n              label={\n                <span className=\"filter-label\">\n                  {itemData['pair:label']}\n                  {showCounters && <ReferenceFilterCounter source={source} id={itemData.id} />}\n                </span>\n              }\n              value={{ [source]: itemData.id }}\n            />\n          ))}\n    </FilterList>\n  );\n};\n\nReferenceFilter.defaultProps = {\n  limit: 25,\n  showCounters: true\n};\n\nexport default ReferenceFilter;\n","import React, { useState } from 'react';\nimport { List } from 'react-admin';\nimport { useLocation } from 'react-router';\nimport ListActionsWithViews from './ListActionsWithViews';\nimport ListViewContext from './ListViewContext';\n\nconst MultiViewsList = ({ children, actions, views, ListComponent, ...otherProps }) => {\n  const query = new URLSearchParams(useLocation().search);\n  const initialView = query.has('view') ? query.get('view') : Object.keys(views)[0];\n  const [currentView, setView] = useState(initialView);\n  return (\n    <ListViewContext.Provider value={{ views, currentView, setView }}>\n      <ListComponent\n        actions={actions}\n        pagination={views[currentView].pagination}\n        // Set initial values, but use the query string to change these values to avoid a complete refresh\n        perPage={views[initialView].perPage}\n        sort={views[initialView].sort}\n        {...otherProps}\n      >\n        {views[currentView].list}\n      </ListComponent>\n    </ListViewContext.Provider>\n  );\n};\n\nMultiViewsList.defaultProps = {\n  actions: <ListActionsWithViews />,\n  ListComponent: List\n};\n\nexport default MultiViewsList;\n","import React from 'react';\nimport { CreateButton, ExportButton, useResourceDefinition, TopToolbar, useResourceContext } from 'react-admin';\nimport { useMediaQuery } from '@mui/material';\nimport ViewsButtons from './ViewsButtons';\n\nconst ListActionsWithViews = ({\n  bulkActions,\n  basePath,\n  sort,\n  displayedFilters,\n  exporter,\n  filters,\n  filterValues,\n  onUnselectItems,\n  selectedIds,\n  showFilter,\n  total,\n  ...rest\n}) => {\n  const xs = useMediaQuery(theme => theme.breakpoints.down('sm'));\n  const resourceDefinition = useResourceDefinition(rest);\n  return (\n    <TopToolbar>\n      <ViewsButtons />\n      {filters &&\n        React.cloneElement(filters, {\n          showFilter,\n          displayedFilters,\n          filterValues,\n          context: 'button'\n        })}\n      {resourceDefinition.hasCreate && <CreateButton />}\n      {!xs && exporter !== false && (\n        <ExportButton disabled={total === 0} sort={sort} filter={filterValues} exporter={exporter} />\n      )}\n      {bulkActions &&\n        React.cloneElement(bulkActions, {\n          filterValues,\n          selectedIds,\n          onUnselectItems\n        })}\n    </TopToolbar>\n  );\n};\n\nexport default ListActionsWithViews;\n","import React from 'react';\nimport { Button, Link } from 'react-admin';\nimport { useLocation } from 'react-router';\nimport ListViewContext from './ListViewContext';\n\nconst ViewsButtons = () => {\n  const query = new URLSearchParams(useLocation().search);\n  const { views, currentView, setView } = React.useContext(ListViewContext);\n  return views\n    ? Object.entries(views)\n        .filter(([key]) => key !== currentView)\n        .map(([key, view]) => {\n          query.set('view', key);\n          query.set('page', 1);\n          query.set('perPage', view.perPage);\n          if (view.sort) {\n            query.set('sort', view.sort.field);\n            query.set('order', view.sort.order);\n          }\n          return (\n            <Link key={key} to={`?${query.toString()}`}>\n              <Button onClick={() => setView(key)} label={view.label}>\n                {React.createElement(view.icon)}\n              </Button>\n            </Link>\n          );\n        })\n    : null;\n};\n\nexport default ViewsButtons;\n","import React from 'react';\n\nconst ListViewContext = React.createContext({ views: null, currentView: null, setView: () => null });\n\nexport default ListViewContext;\n"],"names":[],"version":3,"file":"index.cjs.js.map"}