import r,{useState as t,useCallback as e}from"react";import{AutocompleteArrayInput as n,AutocompleteInput as o,TextInput as a,useResourceContext as i,ReferenceArrayInput as u,ReferenceInput as c}from"react-admin";import{useDataServers as f}from"@semapps/semantic-data-provider";function l(r){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function s(){return(s=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r}).apply(this,arguments)}function m(r,t){if(null==r)return{};var e,n,o=function(r,t){if(null==r)return{};var e,n,o={},a=Object.keys(r);for(n=0;n<a.length;n++)e=a[n],t.indexOf(e)>=0||(o[e]=r[e]);return o}(r,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)e=a[n],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(r,e)&&(o[e]=r[e])}return o}function y(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null==e)return;var n,o,a=[],i=!0,u=!1;try{for(e=e.call(r);!(i=(n=e.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(r){u=!0,o=r}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}(r,t)||function(r,t){if(!r)return;if("string"==typeof r)return p(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(r);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return p(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var b=["record","optionText","dataServers","keyword"],d=function(t){var e=t.record,n=t.optionText,o=t.dataServers,a=t.keyword,i=m(t,b),u=o&&Object.values(o).find((function(r){return e.id.startsWith(r.baseUrl)}));return!i.create||e&&u?r.createElement("span",null,e[n],u&&r.createElement("em",{className:"serverName",style:{color:"grey"}}," (",u.name,")")):"Créer "+a},v=["optionText"],h=function(o){var a=o.optionText,i=m(o,v),u=f(),c=y(t(""),2),l=c[0],p=c[1],b=e((function(r,t){return p(r),t[a].toLowerCase().match(r.toLowerCase())}),[a]);return r.createElement(n,s({matchSuggestion:b,optionText:r.createElement(d,s({optionText:a,dataServers:u,keyword:l},i))},i))},g=["optionText"],O=function(t){var n=t.optionText,a=m(t,g),i=f(),u=e((function(r){if(r&&i){var t=Object.values(i).find((function(t){return r.id.startsWith(t.baseUrl)}));return r[n]+(t?" (".concat(t.name,")"):"")}}),[n,i]);return r.createElement(o,s({optionText:u},a))},S=function(t){return r.createElement(a,s({multiline:!0,minRows:2,format:function(r){return r?Array.isArray(r)?r.join("\n"):r:""},parse:function(r){return r.split(/\r?\n/)}},t))},j=function(t){var e=i({});return r.createElement(u,s({},t,{resource:e,format:function(r){return r?(Array.isArray(r)||(r=[r]),t.format&&(r=t.format(r)),r.map((function(r){return"object"===l(r)?r.id||r["@id"]:r}))):r}}))},w=function(t){var e=i({});return r.createElement(c,s({},t,{resource:e,format:function(r){return r?(t.format&&(r=t.format(r)),"object"===l(r)?r.id||r["@id"]:r):r}}))};export{S as MultiLinesInput,h as MultiServerAutocompleteArrayInput,O as MultiServerAutocompleteInput,j as ReferenceArrayInput,w as ReferenceInput};
//# sourceMappingURL=index.es.js.map
