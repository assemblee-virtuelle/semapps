import t,{useState as r,useCallback as e}from"react";import{AutocompleteArrayInput as n,AutocompleteInput as o,TextInput as a,useResourceContext as i,ReferenceArrayInput as u,ReferenceInput as c}from"react-admin";import{useDataServers as f}from"@semapps/semantic-data-provider";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}function m(t,r){if(null==t)return{};var e,n,o=function(t,r){if(null==t)return{};var e,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)e=a[n],r.indexOf(e)>=0||(o[e]=t[e]);return o}(t,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)e=a[n],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function p(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var n,o,a=[],i=!0,u=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==e.return||e.return()}finally{if(u)throw o}}return a}(t,r)||function(t,r){if(!t)return;if("string"==typeof t)return y(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return y(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var b=function(r){var e=r.record,n=r.optionText,o=r.dataServers,a=r.suggestion,i=o&&Object.values(o).find((function(t){return e.id.startsWith(t.baseUrl)}));return e&&i?t.createElement("span",null,e[n],i&&t.createElement("em",{className:"serverName",style:{color:"grey"}}," (",i.name,")")):"Créer "+a},v=["optionText"],d=function(o){var a=o.optionText,i=m(o,v),u=f(),c=p(r(""),2),l=c[0],y=c[1],d=e((function(t,r){return y(t),r[a].toLowerCase().match(t.toLowerCase())}),[a]);return t.createElement(n,s({matchSuggestion:d,optionText:t.createElement(b,{optionText:a,dataServers:u,suggestion:l})},i))},g=["optionText"],h=function(r){var n=r.optionText,a=m(r,g),i=f(),u=e((function(t){if(t&&i){var r=Object.values(i).find((function(r){return t.id.startsWith(r.baseUrl)}));return t[n]+(r?" (".concat(r.name,")"):"")}}),[n,i]);return t.createElement(o,s({optionText:u},a))},O=function(r){return t.createElement(a,s({multiline:!0,minRows:2,format:function(t){return t?Array.isArray(t)?t.join("\n"):t:""},parse:function(t){return t.split(/\r?\n/)}},r))},j=function(r){var e=i({});return t.createElement(u,s({},r,{resource:e,format:function(t){return t?(Array.isArray(t)||(t=[t]),r.format&&(t=r.format(t)),t.map((function(t){return"object"===l(t)?t.id||t["@id"]:t}))):t}}))},S=function(r){var e=i({});return t.createElement(c,s({},r,{resource:e,format:function(t){return t?(r.format&&(t=r.format(t)),"object"===l(t)?t.id||t["@id"]:t):t}}))};export{O as MultiLinesInput,d as MultiServerAutocompleteArrayInput,h as MultiServerAutocompleteInput,j as ReferenceArrayInput,S as ReferenceInput};
//# sourceMappingURL=index.es.js.map
