<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guides/activitypub">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Create an ActivityPub server | SemApps</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://semapps.org/docs/guides/activitypub"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Create an ActivityPub server | SemApps"><meta data-rh="true" name="description" content="Purpose"><meta data-rh="true" property="og:description" content="Purpose"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://semapps.org/docs/guides/activitypub"><link data-rh="true" rel="alternate" href="https://semapps.org/docs/guides/activitypub" hreflang="en"><link data-rh="true" rel="alternate" href="https://semapps.org/docs/guides/activitypub" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SemApps RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SemApps Atom Feed"><link rel="stylesheet" href="/assets/css/styles.6810ed3e.css">
<link rel="preload" href="/assets/js/runtime~main.4201b68c.js" as="script">
<link rel="preload" href="/assets/js/main.3a99905e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">SemApps</b></a><a class="navbar__item navbar__link" href="/team">Team</a><a class="navbar__item navbar__link" href="/docs/guides/ldp-server">Guides</a><a class="navbar__item navbar__link" href="/docs/middleware">Middleware</a><a class="navbar__item navbar__link" href="/docs/frontend">Frontend</a><a class="navbar__item navbar__link" href="/docs/triplestore">Triple Store</a><a class="navbar__item navbar__link" href="/docs/contribute/code">How to contribute</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/assemblee-virtuelle/semapps" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/ldp-server">Create your first LDP server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/dms">Add a Data Management System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/guides/activitypub">Create an ActivityPub server</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Create an ActivityPub server</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Create an ActivityPub server</h1></header><h3 class="anchor anchorWithStickyNavbar_LWe7" id="purpose">Purpose<a class="hash-link" href="#purpose" title="Direct link to heading">​</a></h3><p><a href="https://www.w3.org/TR/activitypub/" target="_blank" rel="noopener noreferrer">ActivityPub</a> is a W3C Recommendation that defines a protocol that provides a client to server API for creating, updating and deleting content, as well as delivering notifications and content. </p><p>In this guide you will </p><ul><li>Setup a SemApps-powered <strong><a href="https://www.w3.org/TR/activitypub/" target="_blank" rel="noopener noreferrer">ActivityPub</a> server</strong>;</li><li><strong>Create an actor</strong>;</li><li>Make this actor <strong>communicate</strong> with another <a href="https://joinmastodon.org/" target="_blank" rel="noopener noreferrer">Mastodon</a> actor.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h3><p>You need to have <a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">NodeJS</a> installed on your computer (<strong>use NodeJS version 14</strong>).</p><p>You also need <a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">docker-compose</a> installed on your machine.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-a-new-moleculer-project">Setup a new Moleculer project<a class="hash-link" href="#setup-a-new-moleculer-project" title="Direct link to heading">​</a></h2><p>First install the <a href="https://github.com/moleculerjs/moleculer-cli" target="_blank" rel="noopener noreferrer">moleculer-cli</a> tool globally.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token function" style="color:rgb(250, 208, 0)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(250, 208, 0)">install</span><span class="token plain"> -g moleculer-cli</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then initialize a new project based on this template with this command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token plain">moleculer init assemblee-virtuelle/semapps-template-activitypub my-activitypub-server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Choose <code>Yes</code> to all questions:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token plain">? Do you need a local instance of Jena Fuseki (with Docker)? Yes</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">Create &#x27;my-activitypub-server&#x27; folder...</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">? Would you like to run &#x27;npm install&#x27;? Yes</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">Running npm install...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can now go to the newly-created directory:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token builtin class-name" style="color:rgb(250, 208, 0)">cd</span><span class="token plain"> my-activitypub-server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="launch-your-local-jena-fuseki-instance">Launch your local Jena Fuseki instance<a class="hash-link" href="#launch-your-local-jena-fuseki-instance" title="Direct link to heading">​</a></h3><p>Jena Fuseki is a semantic triple store. It is where your app&#x27;s data will be stored.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token function" style="color:rgb(250, 208, 0)">docker-compose</span><span class="token plain"> up</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Jena Fuseki is now available at the URL <a href="http://localhost:3030" target="_blank" rel="noopener noreferrer">http://localhost:3030</a>.</p><p>By default the login is <code>admin</code> and the password is also <code>admin</code>.</p><p>There should be no dataset yet. They will be created when launching Moleculer.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-https-tunnel-to-your-localhost">Create a HTTPS tunnel to your localhost<a class="hash-link" href="#create-a-https-tunnel-to-your-localhost" title="Direct link to heading">​</a></h3><p>Since we will want to communicate with a Mastodon instance later on this guide, we need to provide a publicly-accessible server, and we need it to handle HTTPS.</p><p>We recommend two reverse proxies for this:</p><ul><li><a href="https://ngrok.com" target="_blank" rel="noopener noreferrer">Ngrok</a> which has many options and an excellent web interface for inspection, but unfortunately the free version generates a different domain name on every session, which can make federated testing more difficult.</li><li><a href="https://loophole.cloud" target="_blank" rel="noopener noreferrer">Loophole</a> which has fewer options but allow to set custom subdomains for free.</li></ul><p>For this guide, we will use Loophole and create a reverse proxy with the following configuration:</p><p><img loading="lazy" src="/assets/images/loophole-99e955657fc56de781c641acdfd70b9f.png" width="943" height="820" class="img_ev3q"></p><p>This will create a publicly-accessible URL like <a href="https://alice.loophole.site" target="_blank" rel="noopener noreferrer">https://alice.loophole.site</a> which will point to port 3000 of your local computer.</p><p>Now, to ensure all the URLs generated by your server will use this domain, edit the <code>SEMAPPS_HOME_URL</code> variable in the <code>.env</code> file at the root of your repository:</p><div class="language-env codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-env codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token plain">SEMAPPS_HOME_URL=https://alice.loophole.site</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Make sure to use the HTTPS URL, and not the HTTP one, it is required by the ActivityPub protocol!</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-moleculer-in-dev-mode">Run Moleculer in dev mode<a class="hash-link" href="#run-moleculer-in-dev-mode" title="Direct link to heading">​</a></h3><p>All configurations are finished, you can now launch the server:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token function" style="color:rgb(250, 208, 0)">npm</span><span class="token plain"> run dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your instance of SemApps is now available at <a href="https://alice.loophole.site" target="_blank" rel="noopener noreferrer">https://alice.loophole.site</a> (the local URL http://localhost:3000 will not work).</p><p>You can look up at the 3 LDP containers that Moleculer created in the <code>/activities</code>, <code>/actors</code> and <code>/objects</code> path.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-an-activitypub-actor">Create an ActivityPub actor<a class="hash-link" href="#create-an-activitypub-actor" title="Direct link to heading">​</a></h2><p>You will now create an user, by POSTing to the <code>/auth/signup</code> endpoint with a tool like <a href="https://insomnia.rest/" target="_blank" rel="noopener noreferrer">Insomnia</a>, <a href="https://www.postman.com/downloads/" target="_blank" rel="noopener noreferrer">Postman</a> or the <a href="https://addons.mozilla.org/fr/firefox/addon/restclient/" target="_blank" rel="noopener noreferrer">RESTClient add-on for Firefox</a>.</p><div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token plain">POST /actors HTTP/1.1</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">Host: alice.loophole.site</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">Content-Type: application/json</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    &quot;username&quot;: &quot;alice&quot;,</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    &quot;email&quot;: &quot;alice@test.com&quot;,</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    &quot;password&quot;: &quot;test&quot;</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In return, you will receive a JSON payload which will look like this:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;token&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ3ZWJJZCI6Imh0dHBzOi8vYWxpY2UubG9vcGhvbGUuc2l0ZS9hY3RvcnMvYWxpY2UiLCJpYXQiOjE2NjU5OTY2MDJ9.KdGNRIwl2da2Vk15sEJ7OcqHi84hIbFTCiDs8OLQln_HvoO5B4NqEVZbsr92lBQiDE9lr9FJMPlPPy1w6_iT9eIIDqj8H3Mjlir6Xti2aleRM4RT3EN0yPxBHkTSVdX8hgrRdMZzMfpFVAfAl_TQCRkChga5XZ3ozW5_oPy3NqgYwl_yARUbzS45VZnaW8CMIrsarA8sPbgHFO6Kx5ijvWGZdeaLO7QxEMr9uHN32DT3jP_WClAacIV22sbf-N_0hvm9ckWDcbaYctDBZny6E9jp56yaJ6oRqEk-ue8Hv7lh6rb9omS6zQcEPzL3ob67mMSwxufMrX2zIHDthnD_n5ozhOizBbJxzkr0XUxGdw4ZwQbzhi2ndaP0T9vd3tErCtGQOuTraO1E-59CpurFNdDIg-vRrGAxCGrv5Rytwr1k9uWhsMThBFWixCMSbxUvXDHpkHCWHJI_VXDCgm203SCc-R8V3T4zRfOMX_ga9Pw0gn4RWc8DbjqOHVMrfOabw0faeZlOAy9C4qvNJ3RWoA6TbG8HVuBgeBjkCcfO04EcxqGPSzLAfBblili1QC7ayon8fS51aIJASwMtTR3nqFXxEr3y3ZZRhWZtVm2K8T-YyeEi14cBEoS-NhoNd5jDzX6dCkoP7y7g0etXufICieNBu5LvvKijcR-GG_UHMB0&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;webId&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;https://alice.loophole.site/actors/alice&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;newUser&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 98, 140)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Copy the token as you will need it to authenticate your future requests.</p><p>The <code>webId</code> property is the unique URI of the <code>alice</code> actor. Try to fetch it:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;@context&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(255, 255, 255)">[</span><span class="token string" style="color:rgb(165, 255, 144)">&quot;https://www.w3.org/ns/activitystreams&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;https://w3id.org/security/v1&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">]</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;id&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;https://alice.loophole.site/actors/alice&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;type&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;Person&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;inbox&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;https://alice.loophole.site/actors/alice/inbox&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;publicKey&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(255, 255, 255)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;owner&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;https://alice.loophole.site/actors/alice&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">        </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;publicKeyPem&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;-----BEGIN PUBLIC KEY-----\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA0S4/wAxO2CJ0kxW2PdD7\nbpEURoXbezvAJYd1QneBSnBGqth/LhHD/RtX3/70B7GWghXuQpfySsIfSfCh9+f6\nSqmD7Hv93wXGsoSeDztu/Ss6vrVksxPf+mzz8lmMMw65wz+zE7rl95MQA6XputNY\nFIYcj2y5V4MLwrEjTeOEhRSmyM8EPmCPC/MKm20ZUpO0iNSOvvS9xc09ObcHcgem\nrohCrPNzqwWijjRRoY6qZ6xv9wSqBPmvmjbclW/Z9M5LwTD81iLwTCbFGtjO9pwY\nBntL+NNaA4GnRgr0XPmDzX9J5RdCiQc8lyyLFv/X/VWoAqxxy8IwyGwyP4O6OdhS\nqCaeLlFK8E4G0ZcEPj7vkubsvbNARybVHxTvGpm/oPywOjns3Zs/06m4iXD8OnEG\nWt3RO74U8L1sylQ+n8ww1WB2rCZCA8PLUrj5PeauDoWnpEjd7Fn17qjEBPbPuyOC\n+Qm5ZutxTCQdOyI3cpv+XIRuACcjS3hW6N7ML1pCtKHTNpfdSaiVxavxFJUIObur\ntestqyzbuncrSKb1c40ujFvizGkDdsuNtZaxMbZF7wXc+YQU+OhTRddhBlUVmgJy\nyN10CUh7TyMMOnin/YIZFscL9LNvN5XRWTqMSQBGo2TRNfWYNhs5Mhp8UKHitRXW\nr5iODz+M2V92gSBcNbhmp30CAwEAAQ==\n-----END PUBLIC KEY-----\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;followers&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;https://alice.loophole.site/actors/alice/followers&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;following&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;https://alice.loophole.site/actors/alice/following&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;liked&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;https://alice.loophole.site/actors/alice/liked&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;outbox&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;https://alice.loophole.site/actors/alice/outbox&quot;</span><span class="token punctuation" style="color:rgb(255, 255, 255)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">    </span><span class="token property" style="color:rgb(255, 157, 0)">&quot;preferredUsername&quot;</span><span class="token operator" style="color:rgb(255, 157, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token punctuation" style="color:rgb(255, 255, 255)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The ActivityPub service has automatically added all the required properties for actors: the outbox, the inbox, the list of followers and following, as well as a <code>publicKey</code> object which will be used to verify messages sent by this actor.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If you look inside the <code>/actors</code> subdirectory, you should see two files: <code>alice.key</code> and <code>alice.key.pub</code>. The first one is the private key used to sign messages; it should never leave your server. The second is the public key that we saw just before.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-mastodon-user">Create a Mastodon user<a class="hash-link" href="#create-a-mastodon-user" title="Direct link to heading">​</a></h2><p>Mastodon is federated social network to exchange Twitter-like messages. Unlike Twitter, Mastodon can be installed on many different servers, which use the ActivityPub protocol to communicate with each others. And since ActivityPub is an universal protocol, many different softwares can exchange with Mastodon instances.</p><p>This is what we will do now: exchange information with a Mastodon user. To do that, create an account on any of the instances that you can find on the <a href="https://joinmastodon.org" target="_blank" rel="noopener noreferrer">Mastodon homepage</a>.</p><p>For this guide, we will create an user <code>bob</code> on the <a href="https://mastodon.social/" target="_blank" rel="noopener noreferrer">Mastodon.social</a> instance. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="make-the-two-actors-follow-each-others">Make the two actors follow each others<a class="hash-link" href="#make-the-two-actors-follow-each-others" title="Direct link to heading">​</a></h2><p>Send a POST request to Alice&#x27;s outbox with the following information. Please note that the JWT token retrieved after the signup is provided through the <code>Authorization</code> header.
If you fail to do that, you will get a 403 Forbidden error.</p><div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token plain">POST /actors/alice/outbox HTTP/1.1</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">Host: alice.loophole.site</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">Content-Type: application/ld+json</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ3ZWJJZCI6Imh0dHBzOi8vYWxpY2UubG9vcGhvbGUuc2l0ZS9h...</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  &quot;@context&quot;: &quot;https://www.w3.org/ns/activitystreams&quot;,</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  &quot;actor&quot;: &quot;https://alice.loophole.site/actors/alice&quot;,</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  &quot;type&quot;: &quot;Follow&quot;,</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  &quot;object&quot;: &quot;https://mastodon.social/users/bob&quot;,</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">  &quot;to&quot;: &quot;https://mastodon.social/users/bob&quot;</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>We use <a href="https://mastodon.social/users/bob" target="_blank" rel="noopener noreferrer">https://mastodon.social/users/bob</a> to identify Bob&#x27;s account, because that&#x27;s the standard URL for Mastodon actors.
However we could have found this same information through the <a href="/docs/middleware/webfinger">Webfinger</a> protocol.
If you fetch this URL with an <code>Accept: application/json</code> header, you should receive all the information about the user Bob.</p></div></div><p><code>Follow</code> activities are usually followed by an <code>Accept</code> activity to confirm that the remote actor has accepted the request.
If the magic happened, you should see it on Alice&#x27;s inbox (<a href="https://alice.loophole.site/actors/alice/inbox" target="_blank" rel="noopener noreferrer">https://alice.loophole.site/actors/alice/inbox</a>).
Furthermore, Bob should appear in Alice&#x27;s following collection: <a href="https://alice.loophole.site/actors/alice/following" target="_blank" rel="noopener noreferrer">https://alice.loophole.site/actors/alice/following</a></p><p>If you now go to Bob&#x27;s Mastodon account, you should see a notification that the user <code>@alice@alice.loophole.site</code> wants to follow him. </p><p><img loading="lazy" src="/assets/images/mastodon-follower-21a14f71c1974aecdfcc8ece224d4bc9.png" width="578" height="97" class="img_ev3q"></p><p>Click on the icon on the right to follow her back.
Again, you can check that the messages is received in Alice&#x27;s inbox, and that Bob appear in Alice&#x27;s followers (<a href="https://alice.loophole.site/actors/alice/followers" target="_blank" rel="noopener noreferrer">https://alice.loophole.site/actors/alice/followers</a>)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="send-a-note-to-your-followers">Send a Note to your followers<a class="hash-link" href="#send-a-note-to-your-followers" title="Direct link to heading">​</a></h2><p>You&#x27;re almost there ! Since the two users follow each others, you can post a message as Alice, and Bob should receive it on his Mastodon feed.</p><div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9EFEFF"><span class="token plain">POST /actors/alice/outbox HTTP/1.1</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">Host: alice.loophole.site</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">Content-Type: application/ld+json</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"> &quot;@context&quot;: &quot;https://www.w3.org/ns/activitystreams&quot;,</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"> &quot;type&quot;: &quot;Note&quot;,</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"> &quot;attributedTo&quot;: &quot;https://alice.loophole.site/actors/alice&quot;,</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"> &quot;content&quot;: &quot;Hello to all my followers !&quot;,</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"> &quot;to&quot;: [ &quot;https://alice.loophole.site/actors/alice/followers&quot; ]</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The message is not sent directly to Bob (otherwise it would appear as a direct message), but to all of Alice&#x27;s followers. If everything went well, this message should appear right at the top of Bob&#x27;s Mastodon feed !</p><p><img loading="lazy" src="/assets/images/mastodon-note-b6274e12943bc3eb08b3638a472bdb9d.png" width="578" height="156" class="img_ev3q"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Mastodon, being a Twitter &quot;clone&quot;, only accept two types of objects: <code>Note</code> and <code>Question</code>. Other types of ActivityPub objects are converted but you cannot be sure of the result. For more information, see <a href="https://docs.joinmastodon.org/spec/activitypub/" target="_blank" rel="noopener noreferrer">this page</a>.</p></div></div><p>Much more could be done, but with this little guide, we hope you had a taste of what it is like to create your very own ActivityPub server !</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/assemblee-virtuelle/semapps/edit/master/website/docs/guides/activitypub.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/guides/dms"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Add a Data Management System</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#purpose" class="table-of-contents__link toc-highlight">Purpose</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#setup-a-new-moleculer-project" class="table-of-contents__link toc-highlight">Setup a new Moleculer project</a><ul><li><a href="#launch-your-local-jena-fuseki-instance" class="table-of-contents__link toc-highlight">Launch your local Jena Fuseki instance</a></li><li><a href="#create-a-https-tunnel-to-your-localhost" class="table-of-contents__link toc-highlight">Create a HTTPS tunnel to your localhost</a></li><li><a href="#run-moleculer-in-dev-mode" class="table-of-contents__link toc-highlight">Run Moleculer in dev mode</a></li></ul></li><li><a href="#create-an-activitypub-actor" class="table-of-contents__link toc-highlight">Create an ActivityPub actor</a></li><li><a href="#create-a-mastodon-user" class="table-of-contents__link toc-highlight">Create a Mastodon user</a></li><li><a href="#make-the-two-actors-follow-each-others" class="table-of-contents__link toc-highlight">Make the two actors follow each others</a></li><li><a href="#send-a-note-to-your-followers" class="table-of-contents__link toc-highlight">Send a Note to your followers</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Guides</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/guides/ldp-server">Create your first LDP server</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/guides/dms">Add a Data Management System</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/guides/activitypub">Create an ActivityPub server</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forums.assemblee-virtuelle.org/c/projets/semapps/11" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse (French)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://chat.lescommuns.org/channel/semapps_dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chatroom<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://chat.lescommuns.org/channel/Semapps_accueil" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/assemblee-virtuelle/semapps" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Virtual Assembly</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4201b68c.js"></script>
<script src="/assets/js/main.3a99905e.js"></script>
</body>
</html>